---
layout: compress
---

<!DOCTYPE html>
<html>
{% include head.html %}
<body id="posts" class="inner-post-page">

    <div class="block-left">
      <div class="content">
        <a href="{{ site.url }}" class="logo"><img src="{{ site.url }}/images/{{ site.logo }}"></a>
        <div class="post-title-section">
          <div class="section-line">Wpisy <em>/</em></div>
          <h1 class="section-title">{{ page.title | markdownify | remove: "<p>" | remove: "</p>" }}</h1>
          <ul class="tags">
            {% for tag in page.tags %}
              <li><a href="{{ site.url }}/tags#{{ tag }}">{{ tag }}</a></li>
              {% unless forloop.last %}
              {% endunless %}
            {% endfor %}
          </ul>

          <div class="section-line reverse"><a href="{{ site.url}}/posts">Wroc do listy</a> <em>/</em></div>
        </div>
      </div>
    </div>

    <div class="block-right">
      <div class="share-buttons">
      </div>
      <a href="../posts.html" title="posts" class="posts-menu-icon"></a>
      <a title="projects" class="projects-menu-icon">
        <span></span>
      </a>
      <div class="inner-post content">
        <div class="date-highlight">{% if page.date %}{{ page.date | date: '%d %b %Y' }}{% else %}&#x2756;{% endif %}</div>
        {{ content }}
        <br>

        <h2>Related posts</h2>

        {% comment %}---> the maximum number of related to posts
                          to be printed {% endcomment %}
        {% assign maxRelated = 5 %}

        {% comment %}---> the minimum number of common tags
                          to have for a post to be considered
                          as a related post {% endcomment %}
        {% assign minCommonTags =  0 %}

        {% assign maxRelatedCounter = 0 %}

        {% for post in site.posts %}

          {% assign sameTagCount = 0 %}
          {% assign commonTags = '' %}

          {% for tag in post.tags %}
            {% comment %}---> Only compare if post is
                              not same as current page {% endcomment %}
            {% if post.url != page.url %}
              {% if page.tags contains tag %}
                {% assign sameTagCount = sameTagCount | plus: 1 %}
                {% capture tagmarkup %} <span class="label label-default">{{ tag }}</span> {% endcapture %}
                {% assign commonTags = commonTags | append: tagmarkup %}
              {% endif %}
            {% endif %}
          {% endfor %}

          {% if sameTagCount >= minCommonTags %}
            <ul class="posts-list">
              <li>
                <h2>
                  <a href="{{ site.url }}{{ post.url }}" class="post-title">
                    <span>{{ post.title | markdownify | remove: "<p>" | remove: "</p>" }}</span>
                  </a>
                </h2>
                <h4>
                  <span class="date">{{ post.date | date: '%d %b %Y' }}</span>
                </h4>
                <p>{{ post.excerpt | strip_html | truncatewords:10 }}</p>
              </li>
            </ul>
            {% assign maxRelatedCounter = maxRelatedCounter | plus: 1 %}
            {% if maxRelatedCounter >= maxRelated %}
              {% break %}
            {% endif %}
          {% endif %}

        {% endfor %}

        <br>
        {% if page.comments %}
          {% include disqus.html %}
        {% endif %}
        <br>

        {% include share.html %}
        {% include page-pagination.html %}
      </div>
    </div>
    {% include scripts.html %}
    {% include overlay.html %}
</body>
</html>
